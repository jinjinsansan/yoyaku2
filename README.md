# 心理カウンセリングシステム

## 概要
専門的な心理カウンセラーとのオンラインカウンセリングサービスです。予約から決済、リアルタイムチャット、レビューまでの完全なワークフローを提供します。

## 主要機能

### 🔐 認証システム
- メール・パスワード認証
- 新規登録・ログイン
- セキュアなセッション管理

### 👥 カウンセラー管理
- カウンセラー一覧・詳細表示
- 専門分野での絞り込み検索
- 評価・レビュー表示
- スケジュール確認

### 📅 予約システム
- リアルタイムスケジュール確認
- サービス選択（月額コース/単発）
- 日時選択（2週間先まで）
- 相談内容事前入力

### 💳 決済システム
- PayPal決済統合
- 銀行振込対応
- 決済履歴管理
- 自動予約確定

### 💬 リアルタイムチャット
- 1対1チャット機能
- ファイル共有（画像・文書）
- リアルタイム同期
- チャット履歴保存

### ⭐ レビュー・評価
- 5段階評価システム
- 詳細コメント投稿
- 評価統計・分布表示
- 自動評価集計

### 📊 ダッシュボード
- 予約履歴管理
- 決済履歴確認
- プロフィール管理
- 統計情報表示

## 技術スタック

### フロントエンド
- **React 18** - UIライブラリ
- **TypeScript** - 型安全な開発
- **Tailwind CSS** - スタイリング
- **React Router** - ルーティング
- **Lucide React** - アイコン

### バックエンド・データベース
- **Supabase** - BaaS（認証・データベース・リアルタイム）
- **PostgreSQL** - メインデータベース
- **Row Level Security** - セキュリティ

### 決済・外部サービス
- **PayPal** - オンライン決済
- **Supabase Storage** - ファイルストレージ

## データベース設計

### 主要テーブル
- `users` - ユーザー情報
- `counselors` - カウンセラー情報
- `bookings` - 予約管理
- `payments` - 決済情報
- `chat_rooms` - チャットルーム
- `chat_messages` - チャットメッセージ
- `schedules` - カウンセラースケジュール
- `reviews` - レビュー・評価

## セットアップ

### 1. 依存関係のインストール
```bash
npm install
```

### 2. 環境変数の設定
`.env.local` ファイルを作成し、以下を設定：
```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
VITE_PAYPAL_CLIENT_ID=your_paypal_client_id
```

### 3. Supabaseセットアップ
1. Supabaseプロジェクトを作成
2. データベースマイグレーションを実行
3. Row Level Security (RLS) を有効化
4. ストレージバケット `chat-files` を作成

### 4. 開発サーバー起動
```bash
npm run dev
```

## 主要なワークフロー

### 1. ユーザー登録・ログイン
1. 新規登録またはログイン
2. プロフィール情報入力
3. ダッシュボードアクセス

### 2. カウンセリング予約
1. カウンセラー一覧から選択
2. 専門分野・評価で絞り込み
3. カウンセラー詳細確認
4. 予約フォーム入力
5. 決済処理
6. 予約確定

### 3. カウンセリング実施
1. 予約確定後チャットルーム作成
2. リアルタイムチャット開始
3. ファイル共有機能利用
4. セッション完了

### 4. レビュー投稿
1. セッション完了後レビュー投稿
2. 5段階評価・コメント入力
3. カウンセラー評価自動更新

## セキュリティ機能

- **認証**: Supabase Auth による安全な認証
- **認可**: Row Level Security による適切なアクセス制御
- **データ暗号化**: 全通信のHTTPS暗号化
- **プライバシー保護**: チャット内容の厳重管理

## レスポンシブデザイン
- モバイルファースト設計
- タブレット・デスクトップ対応
- 直感的なタッチインターフェース

## 今後の拡張予定
- メール通知機能
- ビデオ通話統合
- グループセッション
- AI チャットボット
- 多言語対応

## ライセンス
MIT License

## サポート
技術的な質問やサポートが必要な場合は、開発チームまでお問い合わせください。